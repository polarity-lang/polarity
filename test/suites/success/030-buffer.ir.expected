def .head(n) {
    Cons(n', x, xs) => x,
    Nil absurd
}

def .tail(n) {
    Cons(n', x, xs) => xs,
    Nil absurd
}

codef Empty { .read(n) absurd }

codef FromVec(n, xs) {
    .read(n') =>
        comatch {
            .proj1(x, x0) => xs.head(n'),
            .proj2(x, x0) => FromVec(n', xs.tail(n'))
        }
}
